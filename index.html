<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GAMEND BOT - Multi-Game Hub</title>
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>

    <style>
        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #0e1621; color: white; margin: 0; padding: 0;
            display: flex; flex-direction: column; align-items: center;
        }
        header { margin: 25px 0; text-align: center; width: 100%; }
        h1 { font-size: 26px; margin: 0; color: #24a1de; letter-spacing: 1px; }
        .stats-bar {
            background: rgba(36, 161, 222, 0.1);
            padding: 5px 20px; border-radius: 20px;
            font-size: 13px; color: #24a1de; margin-top: 10px;
            border: 1px solid rgba(36, 161, 222, 0.3);
        }

        /* Grid Layout for Games */
        .game-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px; width: 92%; max-width: 500px;
            padding-bottom: 50px;
        }

        .game-item {
            background: #17212b; border-radius: 15px;
            padding: 15px; display: flex; flex-direction: column;
            align-items: center; text-align: center;
            border: 1px solid #232e3c; transition: 0.2s;
            cursor: pointer;
        }
        .game-item:active { transform: scale(0.95); background: #232e3c; }

        .game-icon {
            width: 70px; height: 70px; border-radius: 18px;
            margin-bottom: 10px; object-fit: cover;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }
        .game-title { font-weight: bold; font-size: 15px; margin-bottom: 4px; }
        .game-category { font-size: 11px; color: #888; text-transform: uppercase; }

        footer { margin-bottom: 20px; font-size: 11px; color: #444; }
    </style>
</head>
<body>

    <header>
        <h1>GAMEND BOT</h1>
        <center><div id="live-counter" class="stats-bar">Connecting to Firebase...</div></center>
    </header>

    <div class="game-grid">
        <div class="game-item" onclick="play('Mad-drive', 'https://mozhihub.github.io/Mad-drive/')">
            <img src="https://mozhihub.github.io/Mad-drive/img/drivemad.png" class="game-icon">
            <div class="game-title">Mad Drive</div>
            <div class="game-category">Racing</div>
        </div>

        <div class="game-item" onclick="play('Knife', 'https://mozhihub.github.io/Knife/')">
            <img src="https://via.placeholder.com/70/24a1de/ffffff?text=Knife" class="game-icon">
            <div class="game-title">Knife Hit</div>
            <div class="game-category">Arcade</div>
        </div>

        <div class="game-item" onclick="play('Hexa', 'https://mozhihub.github.io/Hexa/')">
            <img src="https://via.placeholder.com/70/f39c12/ffffff?text=Hexa" class="game-icon">
            <div class="game-title">Hexa Master</div>
            <div class="game-category">Puzzle</div>
        </div>

        <div class="game-item" onclick="play('Insto', 'https://mozhihub.github.io/insto/')">
            <img src="https://via.placeholder.com/70/e1306c/ffffff?text=Insto" class="game-icon">
            <div class="game-title">Insto App</div>
            <div class="game-category">Social Tools</div>
        </div>

        <div class="game-item" onclick="play('Paint', 'https://mozhihub.github.io/Paint/')">
            <img src="https://via.placeholder.com/70/2ecc71/ffffff?text=Paint" class="game-icon">
            <div class="game-title">Magic Paint</div>
            <div class="game-category">Creative</div>
        </div>

        <div class="game-item" onclick="play('Love-Calculator', 'https://mozhihub.github.io/Love-Calculator/')">
            <img src="https://via.placeholder.com/70/e74c3c/ffffff?text=Love" class="game-icon">
            <div class="game-title">Love Calc</div>
            <div class="game-category">Fun</div>
        </div>
    </div>

    <footer>© 2026 Mozhihub Gaming</footer>

    <script>
        // --- FIREBASE CONFIG ---
        const firebaseConfig = {
            apiKey: "AIzaSyBb0upYoLF4_isVBfJUAMOEflMCgl5_5aE",
            authDomain: "game-3a2e9.firebaseapp.com",
            databaseURL: "https://game-3a2e9-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "game-3a2e9",
            storageBucket: "game-3a2e9.firebasestorage.app",
            messagingSenderId: "107429496573",
            appId: "1:107429496573:web:d713c43d7acf8a02232094",
            measurementId: "G-4CWEE32ZF7"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();
        const tg = window.Telegram.WebApp;
        tg.expand();

        // --- LIVE STATS ---
        const liveRef = db.ref('global_live_users');
        liveRef.transaction(c => (c || 0) + 1);
        
        liveRef.on('value', (snap) => {
            document.getElementById('live-counter').innerText = "● " + (snap.val() || 1) + " PLAYERS ONLINE";
        });

        // --- PLAY FUNCTION ---
        function play(name, url) {
            // Track click in Firebase
            db.ref('analytics/clicks/' + name).transaction(c => (c || 0) + 1);
            
            // Haptic Feedback for Telegram
            if(tg.HapticFeedback) tg.HapticFeedback.impactOccurred('medium');
            
            // Redirect
            window.location.href = url;
        }

        // Offline cleanup
        window.onbeforeunload = function() {
            liveRef.transaction(c => (c > 0 ? c - 1 : 0));
        };
    </script>
</body>
</html>
